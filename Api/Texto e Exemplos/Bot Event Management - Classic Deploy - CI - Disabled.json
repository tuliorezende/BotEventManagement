{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"Bug","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+master"],"pathFilters":[],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"BuildConfiguration":{"value":"Release"},"system.debug":{"value":"false","allowOverride":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"_links":{"self":{"href":"https://dev.azure.com/tuliorrezende/80553cb2-14df-4f3a-8b08-c42e3c548132/_apis/build/Definitions/1?revision=69"},"web":{"href":"https://dev.azure.com/tuliorrezende/80553cb2-14df-4f3a-8b08-c42e3c548132/_build/definition?definitionId=1"},"editor":{"href":"https://dev.azure.com/tuliorrezende/80553cb2-14df-4f3a-8b08-c42e3c548132/_build/designer?id=1&_a=edit-build-definition"},"badge":{"href":"https://dev.azure.com/tuliorrezende/80553cb2-14df-4f3a-8b08-c42e3c548132/_apis/build/status/1"}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"badgeEnabled":true,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Prepare analysis on SonarQube","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"15b84ca1-b62f-4a2a-a403-89b77a063157","versionSpec":"4.*","definitionType":"task"},"inputs":{"SonarQube":"53ab703e-f0b3-489a-b80d-19d700e4a47f","scannerMode":"MSBuild","configMode":"file","configFile":"sonar-project.properties","cliProjectKey":"","projectKey":"EventManagement","cliProjectName":"","projectName":"EventManagement","cliProjectVersion":"1.0","projectVersion":"1.0","cliSources":".","extraProperties":"# Additional properties that will be passed to the scanner, \n# Put one key=value per line, example:\n# sonar.exclusions=**/*.bin\nsonar.cs.vscoveragexml.reportsPaths=$(Agent.TempDirectory)/**/*.coveragexml"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Restore","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"5541a522-603c-47ad-91fc-a4b1d163081b","versionSpec":"2.*","definitionType":"task"},"inputs":{"command":"restore","publishWebProjects":"true","projects":"**/*.sln","custom":"","arguments":"","publishTestResults":"true","testRunTitle":"","zipAfterPublish":"true","modifyOutputPath":"true","selectOrConfig":"select","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"","externalEndpoints":"","noCache":"false","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/*.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","externalEndpoint":"","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","nobuild":"false","includesymbols":"false","includesource":"false","versioningScheme":"off","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","buildProperties":"","verbosityPack":"Detailed","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"5541a522-603c-47ad-91fc-a4b1d163081b","versionSpec":"2.*","definitionType":"task"},"inputs":{"command":"build","publishWebProjects":"true","projects":"**/*.sln","custom":"","arguments":"","publishTestResults":"true","testRunTitle":"","zipAfterPublish":"true","modifyOutputPath":"true","selectOrConfig":"select","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"","externalEndpoints":"","noCache":"false","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/*.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","externalEndpoint":"","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","nobuild":"false","includesymbols":"false","includesource":"false","versioningScheme":"off","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","buildProperties":"","verbosityPack":"Detailed","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Test","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"5541a522-603c-47ad-91fc-a4b1d163081b","versionSpec":"2.*","definitionType":"task"},"inputs":{"command":"test","publishWebProjects":"true","projects":"**/BotEventManagement.Test.csproj","custom":"","arguments":"--collect \"Code coverage\"","publishTestResults":"true","testRunTitle":"","zipAfterPublish":"true","modifyOutputPath":"true","selectOrConfig":"select","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"","externalEndpoints":"","noCache":"false","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/*.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","externalEndpoint":"","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","nobuild":"false","includesymbols":"false","includesource":"false","versioningScheme":"off","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","buildProperties":"","verbosityPack":"Detailed","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Convert code Coverage File","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"$ver = (Get-ChildItem $env:USERPROFILE\\.nuget\\packages\\Microsoft.CodeCoverage | Select-Object -Property Name | Sort-Object -Descending | Select-Object -First 1).Name\n \nGet-ChildItem -Recurse -Filter \"*.coverage\" | % {\n$outfile = \"$([System.IO.Path]::GetFileNameWithoutExtension($_.FullName)).coveragexml\"\n$output = [System.IO.Path]::Combine([System.IO.Path]::GetDirectoryName($_.FullName), $outfile)\n\"Analyse '$($_.FullName)' with output '$output'...\"\n. $env:USERPROFILE\\.nuget\\packages\\microsoft.codecoverage\\$ver\\build\\netstandard1.0\\CodeCoverage\\CodeCoverage.exe analyze /output:$output $_.FullName\n}\n\"Done\"","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":"$(Agent.TempDirectory)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Run Code Analysis","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"6d01813a-9589-4b15-8491-8164aeb38055","versionSpec":"4.*","definitionType":"task"},"inputs":{}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Quality Gate Result","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"291ed61f-1ee4-45d3-b1b0-bf822d9095ef","versionSpec":"4.*","definitionType":"task"},"inputs":{"pollingTimeoutSec":"300"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Replace tokens in */webapi.yaml","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"a8515ec8-7254-4ffd-912c-86772e2b5962","versionSpec":"3.*","definitionType":"task"},"inputs":{"rootDirectory":"Api","targetFiles":"*/webapi.yaml","encoding":"auto","writeBOM":"true","escapeType":"none","escapeChar":"","charsToEscape":"","verbosity":"detailed","actionOnMissing":"fail","keepToken":"false","tokenPrefix":"#{","tokenSuffix":"}#","emptyValue":"(empty)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Replace tokens in */front.yaml","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"a8515ec8-7254-4ffd-912c-86772e2b5962","versionSpec":"3.*","definitionType":"task"},"inputs":{"rootDirectory":"Api","targetFiles":"*/front.yaml","encoding":"auto","writeBOM":"true","escapeType":"none","escapeChar":"","charsToEscape":"","verbosity":"detailed","actionOnMissing":"fail","keepToken":"false","tokenPrefix":"#{","tokenSuffix":"}#","emptyValue":"(empty)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build an image - Event Management API","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"1.*","definitionType":"task"},"inputs":{"containerregistrytype":"Container Registry","dockerRegistryEndpoint":"f1f4220d-cfde-4aaa-ba3a-1b1e157276c5","azureSubscriptionEndpoint":"","azureContainerRegistry":"","command":"Build an image","dockerFile":"Api/BotEventTemplate.Api/Dockerfile","arguments":"","pushMultipleImages":"false","tagMultipleImages":"false","imageName":"tuliorezende/boteventmanagement-api:$(Build.BuildId)","imageNamesPath":"","qualifyImageName":"true","qualifySourceImageName":"false","includeSourceTags":"false","includeLatestTag":"true","addDefaultLabels":"true","useDefaultContext":"false","buildContext":"Api","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workingDirectory":"","entrypointOverride":"","containerCommand":"","runInBackground":"true","restartPolicy":"no","maxRestartRetries":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","memoryLimit":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Push an image - Event Management API","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"0.*","definitionType":"task"},"inputs":{"containerregistrytype":"Container Registry","dockerRegistryEndpoint":"f1f4220d-cfde-4aaa-ba3a-1b1e157276c5","azureSubscriptionEndpoint":"","azureContainerRegistry":"","action":"Push an image","dockerFile":"Api/BotEventTemplate.Api/Dockerfile","buildArguments":"","defaultContext":"true","context":"","imageName":"tuliorezende/boteventmanagement-api:$(Build.BuildId)","imageNamesPath":"","qualifyImageName":"true","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"true","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","restartPolicy":"no","restartMaxRetries":"","customCommand":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","cwd":"$(System.DefaultWorkingDirectory)","memory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build an image - Event Management UI","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"1.*","definitionType":"task"},"inputs":{"containerregistrytype":"Container Registry","dockerRegistryEndpoint":"f1f4220d-cfde-4aaa-ba3a-1b1e157276c5","azureSubscriptionEndpoint":"","azureContainerRegistry":"","command":"Build an image","dockerFile":"Api/BotEventManagement.Web/Dockerfile","arguments":"","pushMultipleImages":"false","tagMultipleImages":"false","imageName":"tuliorezende/boteventmanagement-ui:$(Build.BuildId)","imageNamesPath":"","qualifyImageName":"true","qualifySourceImageName":"false","includeSourceTags":"false","includeLatestTag":"true","addDefaultLabels":"true","useDefaultContext":"false","buildContext":"Api","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workingDirectory":"","entrypointOverride":"","containerCommand":"","runInBackground":"true","restartPolicy":"no","maxRestartRetries":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","memoryLimit":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Push an image - Event Management UI","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"0.*","definitionType":"task"},"inputs":{"containerregistrytype":"Container Registry","dockerRegistryEndpoint":"f1f4220d-cfde-4aaa-ba3a-1b1e157276c5","azureSubscriptionEndpoint":"","azureContainerRegistry":"","action":"Push an image","dockerFile":"Api/BotEventTemplate.Api/Dockerfile","buildArguments":"","defaultContext":"true","context":"","imageName":"tuliorezende/boteventmanagement-ui:$(Build.BuildId)","imageNamesPath":"","qualifyImageName":"true","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"true","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","restartPolicy":"no","restartMaxRetries":"","customCommand":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","cwd":"$(System.DefaultWorkingDirectory)","memory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy Files to: $(Build.ArtifactStagingDirectory)/templates","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"Api","Contents":"*/**.yaml","TargetFolder":"$(Build.ArtifactStagingDirectory)/templates","CleanTargetFolder":"false","OverWrite":"false","flattenFolders":"false","preserveTimestamp":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact: yaml","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(Build.ArtifactStagingDirectory)/templates","ArtifactName":"yaml","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8","FileCopyOptions":""}}],"name":"Agent job 1","refName":"Phase_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1,"jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"apiUrl":"https://api.github.com/repos/tuliorezende/BotEventManagement","branchesUrl":"https://api.github.com/repos/tuliorezende/BotEventManagement/branches","cloneUrl":"https://github.com/tuliorezende/BotEventManagement.git","connectedServiceId":"c836db72-d911-4dda-9c88-827581da332a","defaultBranch":"master","fullName":"tuliorezende/BotEventManagement","hasAdminPermissions":"True","isFork":"False","isPrivate":"False","lastUpdated":"09/03/2019 20:54:34","manageUrl":"https://github.com/tuliorezende/BotEventManagement","nodeId":"MDEwOlJlcG9zaXRvcnkxNDI1OTA0OTE=","ownerId":"6129653","orgName":"tuliorezende","refsUrl":"https://api.github.com/repos/tuliorezende/BotEventManagement/git/refs","safeRepository":"tuliorezende/BotEventManagement","shortName":"BotEventManagement","ownerAvatarUrl":"https://avatars2.githubusercontent.com/u/6129653?v=4","archived":"False","externalId":"142590491","ownerIsAUser":"True","checkoutNestedSubmodules":"false","cleanOptions":"3","fetchDepth":"0","gitLfsSupport":"false","reportBuildStatus":"true","skipSyncSource":"false","labelSourcesFormat":"$(build.buildNumber)","labelSources":"0"},"id":"tuliorezende/BotEventManagement","type":"GitHub","name":"tuliorezende/BotEventManagement","url":"https://github.com/tuliorezende/BotEventManagement.git","defaultBranch":"master","clean":"true","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"TÃºlio Rezende","url":"https://spsprodcus1.vssps.visualstudio.com/A684b71b4-1cd7-4407-8b0e-542943b2e322/_apis/Identities/6897b09e-f784-496b-aa74-03a4d833ba72","_links":{"avatar":{"href":"https://dev.azure.com/tuliorrezende/_apis/GraphProfile/MemberAvatars/msa.MDVlNTA4ODUtM2UxNy03ZjY1LWFhNzUtM2ZhZmNmNzJlMTg4"}},"id":"6897b09e-f784-496b-aa74-03a4d833ba72","uniqueName":"tulio.rezende@outlook.com","imageUrl":"https://dev.azure.com/tuliorrezende/_apis/GraphProfile/MemberAvatars/msa.MDVlNTA4ODUtM2UxNy03ZjY1LWFhNzUtM2ZhZmNmNzJlMTg4","descriptor":"msa.MDVlNTA4ODUtM2UxNy03ZjY1LWFhNzUtM2ZhZmNmNzJlMTg4"},"drafts":[],"queue":{"_links":{"self":{"href":"https://dev.azure.com/tuliorrezende/_apis/build/Queues/9"}},"id":9,"name":"Hosted Windows 2019 with VS2019","url":"https://dev.azure.com/tuliorrezende/_apis/build/Queues/9","pool":{"id":9,"name":"Hosted Windows 2019 with VS2019","isHosted":true}},"id":1,"name":"Bot Event Management - Classic Deploy - CI - Disabled","url":"https://dev.azure.com/tuliorrezende/80553cb2-14df-4f3a-8b08-c42e3c548132/_apis/build/Definitions/1?revision=69","uri":"vstfs:///Build/Definition/1","path":"\\","type":2,"queueStatus":2,"revision":69,"createdDate":"2019-09-04T15:05:44.967Z","project":{"id":"80553cb2-14df-4f3a-8b08-c42e3c548132","name":"Bot Event Management","url":"https://dev.azure.com/tuliorrezende/_apis/projects/80553cb2-14df-4f3a-8b08-c42e3c548132","state":1,"revision":12,"visibility":2,"lastUpdateTime":"2018-11-05T17:29:44.557Z"}}